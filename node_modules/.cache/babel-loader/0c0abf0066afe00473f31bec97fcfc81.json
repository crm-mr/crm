{"ast":null,"code":"import _classCallCheck from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/morales/Escritorio/EL_MR/crm/htn/src/componentes/Agentes.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nvar Agentes =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Agentes, _Component);\n\n  function Agentes() {\n    var _this;\n\n    _classCallCheck(this, Agentes);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Agentes).call(this));\n    _this.nombreRef = React.createRef();\n    _this.apellidoRef = React.createRef();\n    _this.correoRef = React.createRef();\n    _this.passwordRef = React.createRef();\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var datos = {\n        nombre: _this.nombreRef.current.value,\n        apellido: _this.apellidoRef.current.value,\n        correo: _this.correoRef.current.value,\n        password: _this.passwordRef.current.value\n      };\n      var regex = /[\\w-\\.]{2,}@([\\w-]{2,}\\.)*([\\w-]{2,}\\.)[\\w-]{2,4}/;\n\n      if (datos.nombre === '') {\n        swal(\"Campo nombre vacio\", \"Favor de verificar\", \"error\");\n      } else if (datos.apellido === '') {\n        swal(\"Campo apellido vacio\", \"Favor de verificar\", \"error\");\n      } else if (datos.correo === '') {\n        swal(\"Campo correo vacio\", \"Favor de verificar\", \"error\");\n      } else if (regex.test(datos.correo.trim()) == false) {\n        swal(\"Campo correo invalido\", \"Favor de verificar\", \"error\");\n        return false;\n      } else if (datos.password === '') {\n        swal(\"Campo contraseña vacio\", \"Favor de verificar\", \"error\");\n      } else {\n        var id_sessin_agente = sessionStorage.getItem(\"id\");\n        var data_form = new FormData();\n        data_form.append('nombre', datos.nombre);\n        data_form.append('apellido', datos.apellido);\n        data_form.append('correo', datos.correo);\n        data_form.append('password', datos.password);\n        data_form.append('id_sessin_agente', id_sessin_agente);\n        axios({\n          method: 'post',\n          url: 'https://turnmyapp.com/ws_turnmyapp/get/insertar_agente_by_gerente/validacion',\n          data: data_form,\n          config: {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          }\n        }).then(function (response) {\n          if (response.data == 'correo_invalid') {\n            swal(\"El correo ya se encuentra registrado\", \"Intenta con otro diferente\", \"error\");\n          } else {\n            swal(\"Agente guardado con exito\", \"\", \"success\");\n          }\n        }).catch(function (response) {\n          //handle error\n          console.log(response);\n        });\n        e.currentTarget.reset();\n        setTimeout(function () {\n          var _this2 = this;\n\n          //Axios Gerentes por usuario\n          axios.get(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\" + sessionStorage.getItem(\"id\") + \"\").then(function (response) {\n            _this2.setState({\n              gerentes_user: response.data\n            });\n          }).catch(function (error) {\n            console.log(error);\n          });\n        }.bind(_assertThisInitialized(_assertThisInitialized(_this))), 3000);\n        /*   setTimeout(function () {\r\n                 /*    //Axios Gerentes por usuario\r\n                   axios.get(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\"+sessionStorage.getItem(\"id\")+\"\").then(response => {\r\n                   this.setState({\r\n                       gerentes_user: response.data\r\n                   })\r\n               }).catch(error => {\r\n                   console.log(error);\r\n               })\r\n                   fetch(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\"+sessionStorage.getItem(\"id\")+\"\")\r\n        // We get the API response and receive data in JSON format...\r\n        .then(response => response.json())\r\n        // ...then we update the users state\r\n        .then(data =>\r\n        this.setState({\r\n        gerentes_user: data,\r\n        })\r\n        )\r\n        // Catch any errors we hit and update the app\r\n        .catch(error => this.setState({ error, isLoading: false }));\r\n                     // window.location.reload();\r\n        \n               }.bind(this), 3000)*/\n      }\n    };\n\n    _this.eliminarAgente = function (e) {\n      var retVal = window.confirm(\"¿Deseas eliminar este agente?\");\n\n      if (retVal == true) {\n        var id_agente_table = e;\n        var data_form_delete = new FormData();\n        data_form_delete.append('id_agente', id_agente_table);\n        axios({\n          method: 'post',\n          url: 'https://turnmyapp.com/ws_turnmyapp/get/update_delete_agente_by_gerente/validacion',\n          data: data_form_delete,\n          config: {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          }\n        }).then(function (response) {\n          swal(\"Agente eliminado con exito\", \"\", \"success\");\n        }).catch(function (response) {\n          //handle error\n          console.log(response);\n        });\n        setTimeout(function () {\n          var _this3 = this;\n\n          fetch(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\" + sessionStorage.getItem(\"id\") + \"\") // We get the API response and receive data in JSON format...\n          .then(function (response) {\n            return response.json();\n          }) // ...then we update the users state\n          .then(function (data) {\n            return _this3.setState({\n              gerentes_user: data\n            });\n          }) // Catch any errors we hit and update the app\n          .catch(function (error) {\n            return _this3.setState({\n              error: error,\n              isLoading: false\n            });\n          }); // window.location.reload();\n        }.bind(_assertThisInitialized(_assertThisInitialized(_this))), 3000);\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    _this.state = {\n      gerentes_user: []\n    };\n    _this.eliminarAgente = _this.eliminarAgente.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } // FIN DE CONSTRUCTOR\n\n\n  _createClass(Agentes, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this4 = this;\n\n      if (sessionStorage.getItem(\"email\") == '') {\n        window.location.href = \"/\";\n      } //Axios Gerentes por usuario\n\n\n      axios.get(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\" + sessionStorage.getItem(\"id\") + \"\").then(function (response) {\n        _this4.setState({\n          gerentes_user: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        className: \"div_main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mx-auto col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"M\\xF3dulo Agentes\"), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"div_after_table_dashboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Nombre\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, \"Apellido\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"Correo\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"Acciones\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, this.state.gerentes_user.map(function (datos, i) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          key: datos,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          },\n          __self: this\n        }, datos.name), React.createElement(\"th\", {\n          key: datos,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, datos.lastname), React.createElement(\"th\", {\n          key: datos,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, datos.email), React.createElement(\"th\", {\n          key: datos,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: _this5.eliminarAgente.bind(_this5, datos.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, \"Eliminar\")));\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"mb-0 title_main_formulario\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, \"INGRESE LOS SIGUIENTES DATOS\")), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"form\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, \"Nombre\"), React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        ref: this.nombreRef,\n        className: \"form-control\",\n        type: \"text\",\n        name: \"nombre\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \"Apellido\"), React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        ref: this.apellidoRef,\n        className: \"form-control\",\n        type: \"text\",\n        name: \"apellido\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, \"Correo\"), React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        ref: this.correoRef,\n        className: \"form-control\",\n        type: \"text\",\n        name: \"correo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, \"Contrase\\xF1a\"), React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        ref: this.passwordRef,\n        className: \"form-control\",\n        type: \"password\",\n        name: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn_form_turn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, \" GUARDAR \"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      })))))))), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/Dashboard',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-warning btn_100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"Dashboard\")), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: '/agentes',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-success btn_100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, \"Agentes\")), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: '/autos',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn_100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \"Autos\")), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-danger btn_100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, \"Salir\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Agentes;\n}(Component);\n\nexport default Agentes;","map":{"version":3,"sources":["/home/morales/Escritorio/EL_MR/crm/htn/src/componentes/Agentes.js"],"names":["React","Component","Link","axios","swal","Agentes","nombreRef","createRef","apellidoRef","correoRef","passwordRef","onSubmit","e","preventDefault","datos","nombre","current","value","apellido","correo","password","regex","test","trim","id_sessin_agente","sessionStorage","getItem","data_form","FormData","append","method","url","data","config","headers","then","response","catch","console","log","currentTarget","reset","setTimeout","get","setState","gerentes_user","error","bind","eliminarAgente","retVal","window","confirm","id_agente_table","data_form_delete","fetch","json","isLoading","state","location","href","map","i","name","lastname","email","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\n\r\nclass Agentes extends Component {\r\n\r\n\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            gerentes_user : []\r\n        }\r\n\r\n\r\n    \r\n\r\n        this.eliminarAgente = this.eliminarAgente.bind(this);\r\n\r\n\r\n      \r\n    } // FIN DE CONSTRUCTOR\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    componentWillMount(){\r\n\r\n        if(sessionStorage.getItem(\"email\")==''){\r\n            window.location.href = \"/\";\r\n        }\r\n\r\n\r\n\r\n        //Axios Gerentes por usuario\r\n      axios.get(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\"+sessionStorage.getItem(\"id\")+\"\").then(response => {\r\n        this.setState({\r\n            gerentes_user: response.data\r\n        })\r\n      }).catch(error => {\r\n        console.log(error);\r\n      })\r\n      \r\n\r\n    }\r\n    \r\n\r\n\r\n    nombreRef = React.createRef();\r\n    apellidoRef = React.createRef();\r\n    correoRef = React.createRef();\r\n    passwordRef = React.createRef();\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  \r\n\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n\r\n\r\n        const datos = {\r\n            nombre : this.nombreRef.current.value,\r\n            apellido : this.apellidoRef.current.value,\r\n            correo : this.correoRef.current.value,\r\n            password : this.passwordRef.current.value\r\n        }\r\n        \r\n\r\n        \r\n        let regex = /[\\w-\\.]{2,}@([\\w-]{2,}\\.)*([\\w-]{2,}\\.)[\\w-]{2,4}/;\r\n\r\n        if(datos.nombre===''){\r\n            swal(\"Campo nombre vacio\", \"Favor de verificar\", \"error\");\r\n        }else if(datos.apellido===''){\r\n            swal(\"Campo apellido vacio\", \"Favor de verificar\", \"error\");\r\n        }else if(datos.correo===''){\r\n            swal(\"Campo correo vacio\", \"Favor de verificar\", \"error\");\r\n        }else if (regex.test(datos.correo.trim())==false) {\r\n            swal(\"Campo correo invalido\", \"Favor de verificar\", \"error\");\r\n            return false;\r\n        }else if(datos.password===''){\r\n            swal(\"Campo contraseña vacio\", \"Favor de verificar\", \"error\");\r\n        }else{\r\n\r\n\r\n\r\n         let id_sessin_agente = sessionStorage.getItem(\"id\");\r\n        var data_form = new FormData();\r\n    data_form.append('nombre',datos.nombre);\r\n    data_form.append('apellido',datos.apellido);\r\n    data_form.append('correo',datos.correo);\r\n    data_form.append('password',datos.password);\r\n    data_form.append('id_sessin_agente',id_sessin_agente);\r\n\r\n\r\n            axios({\r\n            method: 'post',\r\n            url: 'https://turnmyapp.com/ws_turnmyapp/get/insertar_agente_by_gerente/validacion',\r\n            data: data_form,\r\n            config: { headers: {'Content-Type': 'multipart/form-data' }}\r\n            })\r\n            .then(function (response) {\r\n\r\n                if(response.data=='correo_invalid'){\r\n                    swal(\"El correo ya se encuentra registrado\", \"Intenta con otro diferente\", \"error\");\r\n                }else{\r\n                    swal(\"Agente guardado con exito\", \"\", \"success\");\r\n                }\r\n            })\r\n            .catch(function (response) {\r\n                //handle error\r\n                console.log(response);\r\n            });\r\n\r\n            e.currentTarget.reset();\r\n\r\n\r\n\r\n\r\n            setTimeout(function () {\r\n            //Axios Gerentes por usuario\r\n      axios.get(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\"+sessionStorage.getItem(\"id\")+\"\").then(response => {\r\n        this.setState({\r\n            gerentes_user: response.data\r\n        })\r\n      }).catch(error => {\r\n        console.log(error);\r\n      })\r\n\r\n    }.bind(this), 3000)\r\n\r\n\r\n\r\n                 /*   setTimeout(function () {\r\n\r\n                        /*    //Axios Gerentes por usuario\r\n                            axios.get(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\"+sessionStorage.getItem(\"id\")+\"\").then(response => {\r\n                            this.setState({\r\n                                gerentes_user: response.data\r\n                            })\r\n                        }).catch(error => {\r\n                            console.log(error);\r\n                        })\r\n\r\n\r\n                        fetch(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\"+sessionStorage.getItem(\"id\")+\"\")\r\n    // We get the API response and receive data in JSON format...\r\n    .then(response => response.json())\r\n    // ...then we update the users state\r\n    .then(data =>\r\n      this.setState({\r\n        gerentes_user: data,\r\n      })\r\n    )\r\n    // Catch any errors we hit and update the app\r\n    .catch(error => this.setState({ error, isLoading: false }));\r\n\r\n                            // window.location.reload();\r\n                \r\n                        }.bind(this), 3000)*/\r\n\r\n\r\n    \r\n\r\n\r\n                \r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        // FUNCION ELIMINAR AGENTE\r\n        eliminarAgente = (e) => {\r\n\r\n            let retVal = window.confirm(\"¿Deseas eliminar este agente?\");\r\n               if( retVal == true ) {\r\n                \r\n                let id_agente_table = e;\r\n\r\n                var data_form_delete = new FormData();\r\n                data_form_delete.append('id_agente',id_agente_table)\r\n\r\n                axios({\r\n                    method: 'post',\r\n                    url: 'https://turnmyapp.com/ws_turnmyapp/get/update_delete_agente_by_gerente/validacion',\r\n                    data: data_form_delete,\r\n                    config: { headers: {'Content-Type': 'multipart/form-data' }}\r\n                    })\r\n                    .then(function (response) {\r\n                            swal(\"Agente eliminado con exito\", \"\", \"success\");\r\n\r\n\r\n\r\n                    })\r\n                    .catch(function (response) {\r\n                        //handle error\r\n                        console.log(response);\r\n                    });\r\n\r\n\r\n                    setTimeout(function () {\r\n                    fetch(\"https://turnmyapp.com/ws_turnmyapp/get/turnmyapp_gerentes_user/\"+sessionStorage.getItem(\"id\")+\"\")\r\n    // We get the API response and receive data in JSON format...\r\n    .then(response => response.json())\r\n    // ...then we update the users state\r\n    .then(data =>\r\n      this.setState({\r\n        gerentes_user: data,\r\n      })\r\n    )\r\n    // Catch any errors we hit and update the app\r\n    .catch(error => this.setState({ error, isLoading: false }));\r\n\r\n                            // window.location.reload();\r\n                \r\n                        }.bind(this), 3000)\r\n\r\n\r\n                    \r\n\r\n\r\n                  return true;\r\n               }\r\n               else {\r\n\r\n                  return false;\r\n               }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"div_main\">\r\n        <div className=\"mx-auto col-sm-12\">\r\n\r\n            <br /><br />\r\n\r\n            <div className=\"text-center\">\r\n                Módulo Agentes\r\n            </div>\r\n            \r\n            <div className=\"row\">\r\n                <div className=\"col-md-9\">\r\n                    <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                                            <div className=\"div_after_table_dashboard\">\r\n                                            <table className=\"table table-dark\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                    <th scope=\"col\">Nombre</th>\r\n                                                    <th scope=\"col\">Apellido</th>\r\n                                                    <th scope=\"col\">Correo</th>\r\n                                                    <th scope=\"col\">Acciones</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    \r\n                                                    { this.state.gerentes_user.map((datos,i) =>\r\n                                                    <tr>\r\n                                                    <th  scope=\"row\" key={datos}>{datos.name}</th>\r\n                                                    <th key={datos}>{datos.lastname}</th>\r\n                                                    <th key={datos}>{datos.email}</th>\r\n                                                    <th key={datos}><button onClick={this.eliminarAgente.bind(this, datos.id)}>Eliminar</button></th>\r\n                                                    </tr>\r\n                                                    )}\r\n                                                    \r\n                                                </tbody>\r\n                                                </table>\r\n                                                </div>\r\n                    \r\n\r\n                    <br /><br />\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\">\r\n                                    <h4 className=\"mb-0 title_main_formulario\">INGRESE LOS SIGUIENTES DATOS</h4>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <form className=\"form\" onSubmit={this.onSubmit} >\r\n\r\n\r\n                                    <div className=\"row\">\r\n                                    <div className=\"col-md-12\">\r\n                                        <div className=\"form-group\">\r\n                                            <label className=\"form-control-label\">Nombre</label>\r\n                                            <div className=\"\">\r\n                                                <input ref={this.nombreRef} className=\"form-control\" type=\"text\" name=\"nombre\" />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label className=\"form-control-label\">Apellido</label>\r\n                                            <div className=\"\">\r\n                                                <input ref={this.apellidoRef} className=\"form-control\" type=\"text\" name=\"apellido\" />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label className=\"form-control-label\">Correo</label>\r\n                                            <div className=\"\">\r\n                                                <input ref={this.correoRef} className=\"form-control\" type=\"text\" name=\"correo\" />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label className=\"form-control-label\">Contraseña</label>\r\n                                            <div className=\"\">\r\n                                                <input ref={this.passwordRef} className=\"form-control\" type=\"password\" name=\"password\" />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    \r\n            \r\n\r\n\r\n                                </div>\r\n\r\n\r\n\r\n                                <div className=\"text-center\">\r\n                                        <button type=\"submit\" className=\"btn btn-primary btn_form_turn\"> GUARDAR </button> <br /><br />\r\n                                </div>\r\n\r\n                                    </form>\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n                    </div>\r\n                    </div>\r\n\r\n            </div>\r\n            <div className=\"col-md-3\">\r\n                        <Link to={'/Dashboard'}><button type=\"button\" className=\"btn btn-warning btn_100\">Dashboard</button></Link> <br /><br />\r\n                        <Link to={'/agentes'}><button type=\"button\" className=\"btn btn-success btn_100\">Agentes</button></Link> <br /><br />\r\n                        <Link to={'/autos'}><button type=\"button\" className=\"btn btn-primary btn_100\">Autos</button></Link> <br/><br/>\r\n                        <button type=\"button\" className=\"btn btn-danger btn_100\">Salir</button> <br/>\r\n            </div>\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Agentes;"]},"metadata":{},"sourceType":"module"}