{"ast":null,"code":"import _classCallCheck from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/morales/Escritorio/EL_MR/crm/htn/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/morales/Escritorio/EL_MR/crm/htn/src/componentes/Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.emailRef = React.createRef();\n    _this.passwordRef = React.createRef();\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var datos = {\n        email: _this.emailRef.current.value,\n        password: _this.passwordRef.current.value // Validando campos\n\n      };\n      var regex = /[\\w-\\.]{2,}@([\\w-]{2,}\\.)*([\\w-]{2,}\\.)[\\w-]{2,4}/;\n\n      if (datos.email === '') {\n        swal(\"Campo correo vacio\", \"Favor de verificar\", \"error\");\n      } else if (regex.test(datos.email.trim()) == false) {\n        swal(\"Campo correo invalido\", \"Favor de verificar\", \"error\");\n        return false;\n      } else if (datos.password === '') {\n        swal(\"Campo contraseña vacio\", \"Favor de verificar\", \"error\");\n      } else {\n        var data_form = new FormData();\n        data_form.append('email', datos.email);\n        data_form.append('password', datos.password);\n      }\n\n      axios({\n        method: 'post',\n        url: 'https://chuchuapp.mx/ws_turnmyapp/get/validar_user_login/validacion',\n        data: data_form,\n        config: {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      }).then(function (response) {\n        if (response.data == 'invalid_mail') {\n          swal(\"El correo es incorrecto\", \"Intenta nuevamente\", \"error\");\n          console.log(response.data);\n        } else if (response.data == 'invalid_password') {\n          swal(\"La contraseña es incorrecta\", \"Intenta nuevamente\", \"error\");\n          console.log(response.data);\n        } else {\n          // SI LOS DATOS SON CORRECTOS \n          sessionStorage.setItem(\"email\", response.data[0][1]);\n          sessionStorage.setItem(\"name\", response.data[0][3]);\n          sessionStorage.setItem(\"lastname\", response.data[0][4]);\n          sessionStorage.setItem(\"role_id\", response.data[0][5]);\n          sessionStorage.setItem(\"id\", response.data[0][0]);\n          console.log(response.data[0][1]);\n          window.location.href = \"/Dashboard\";\n        }\n      }).catch(function (response) {\n        //handle error\n        console.log(response);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (sessionStorage.getItem(\"email\") != null) {\n        window.location.href = \"/Dashboard\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"productos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"main-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Admin Login\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Por favor ingresa tu correo y contrase\\xF1a\")), React.createElement(\"form\", {\n        id: \"Login\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        ref: this.emailRef,\n        className: \"form-control\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Email Address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        ref: this.passwordRef,\n        className: \"form-control\",\n        id: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"forgot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Login\"))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/home/morales/Escritorio/EL_MR/crm/htn/src/componentes/Login.js"],"names":["React","Component","Link","axios","swal","Login","emailRef","createRef","passwordRef","onSubmit","e","preventDefault","datos","email","current","value","password","regex","test","trim","data_form","FormData","append","method","url","data","config","headers","then","response","console","log","sessionStorage","setItem","window","location","href","catch","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nclass Login extends Component {\n\n\n    componentWillMount(){\n\n        if(sessionStorage.getItem(\"email\")!= null){\n            window.location.href = \"/Dashboard\";\n        }\n\n    }\n\n    emailRef = React.createRef();\n    passwordRef = React.createRef();\n\n\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        \n        const datos = {\n            email : this.emailRef.current.value,\n            password : this.passwordRef.current.value\n        }\n\n\n        // Validando campos\n        let regex = /[\\w-\\.]{2,}@([\\w-]{2,}\\.)*([\\w-]{2,}\\.)[\\w-]{2,4}/;\n\n        if(datos.email===''){\n            swal(\"Campo correo vacio\", \"Favor de verificar\", \"error\");\n        }else if (regex.test(datos.email.trim())==false) {\n            swal(\"Campo correo invalido\", \"Favor de verificar\", \"error\");\n            return false;\n        }else if(datos.password===''){\n            swal(\"Campo contraseña vacio\", \"Favor de verificar\", \"error\");\n        }else{\n\n            var data_form = new FormData();\n    data_form.append('email',datos.email);\n    data_form.append('password',datos.password);\n        }\n\n\n        axios({\n            method: 'post',\n            url: 'https://chuchuapp.mx/ws_turnmyapp/get/validar_user_login/validacion',\n            data: data_form,\n            config: { headers: {'Content-Type': 'multipart/form-data' }}\n            })\n            .then(function (response) {\n\n                if(response.data=='invalid_mail'){\n                    swal(\"El correo es incorrecto\", \"Intenta nuevamente\", \"error\");\n                    console.log(response.data)\n                }else if(response.data=='invalid_password'){\n                    swal(\"La contraseña es incorrecta\", \"Intenta nuevamente\", \"error\");\n                    console.log(response.data)\n                }else{\n                    // SI LOS DATOS SON CORRECTOS \n                    sessionStorage.setItem(\"email\", response.data[0][1]);\n                    sessionStorage.setItem(\"name\", response.data[0][3]);\n                    sessionStorage.setItem(\"lastname\", response.data[0][4]);\n                    sessionStorage.setItem(\"role_id\", response.data[0][5]);\n                    sessionStorage.setItem(\"id\", response.data[0][0]);\n                    console.log(response.data[0][1]);\n                    window.location.href = \"/Dashboard\";\n                }\n            })\n            .catch(function (response) {\n                //handle error\n                console.log(response);\n            });\n\n\n    }\n\n    render() {\n        return (\n            <div className=\"productos\">\n\n                <div className=\"container\">\n                    <div className=\"login-form\">\n                    <div className=\"main-div\">\n                        <div className=\"panel\">\n                    <h2>Admin Login</h2>\n                    <p>Por favor ingresa tu correo y contraseña</p>\n                    </div>\n                        <form id=\"Login\" onSubmit={this.onSubmit}>\n\n                            <div className=\"form-group\">\n\n\n                                <input type=\"text\" ref={this.emailRef} className=\"form-control\" id=\"email\" name=\"email\" placeholder=\"Email Address\" />\n\n                            </div>\n\n                            <div className=\"form-group\">\n\n                                <input type=\"password\" ref={this.passwordRef} className=\"form-control\" id=\"password\" name=\"password\" placeholder=\"Password\" />\n\n                            </div>\n                            <div className=\"forgot\"></div>\n                            <button type=\"submit\" className=\"btn btn-primary\">Login</button>\n\n                        </form>\n                        </div>\n                    </div></div></div>\n\n               \n           \n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}